<MainScreen>:
    BoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Kivy Music Player"
            right_action_items: [["settings", lambda x: root.go_to_settings()]]

        MDBottomNavigation:

            HomeScreen:
                name: "home_screen"
                text: 'Home'

            SongListScreen:
                name: "song_list_screen"
                text: 'Songs'


<ItemWithRemove>:

    IconRightWidget:
        icon: 'minus'

<SettingsSearchPathsScreen>:
    name: 'settings_search_paths'
    BoxLayout:
        orientation: 'vertical'

        ScrollView:

            MDList:
                id: search_paths_list

        MDBottomAppBar:
            MDToolbar:
                title: "Search Paths"
                icon: "plus"
                type: 'bottom'
                left_action_items: [["android", lambda x: root.go_to_settings()]]
                on_action_button: root.launch_file_manager()
                mode: 'end'

<SettingsScreen>:
    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: "Settings"
            left_action_items: [["android", lambda x: root.go_to_main()]]

        ScrollView:

            MDList:
                id: settings_list

                TwoLineIconListItem:
                    text: "Search Paths"
                    secondary_text: "where to look for songs"
                    on_press: root.go_to_search_paths()

                    IconLeftWidget:
                        icon: 'search'




<HomeScreen>:
    BoxLayout:
        orientation: "vertical"
        MDLabel:
            text: "home"


<SongListScreen>:
    BoxLayout:
        orientation: "vertical"

        ScrollView:
            MDList:
                id: songs_list

<SongItem>:
    ImageLeftWidget:
        texture: root.artwork

<SongScreen>:
    name: 'song_screen'
    BoxLayout:
        orientation: 'vertical'
        id: song_screen_bg

        NowPlayingAlbumArt:
            size: self.texture_size
            size_hint: None, None
            elevation: 10
            source: 'artwork/image.jpg'
            pos_hint: {"center_x": .5, "center_y": .5}
            id: album_art

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None

            MDLabel:
                id: song_cur_pos_label
                size_hint: 0.2, 1
                halign: "center"
            MDSlider:
                id: song_slider
                min: 0
                max: root.song_max_length
                value: root.song_current_pos
                hint: False
                on_touch_up: root.seek_song()
            MDLabel:
                id: song_total_length_label
                size_hint: 0.2, 1
                halign: "center"

        MDBottomAppBar:
            MDToolbar:
                title: "SONG"
                icon: "play"
                type: 'bottom'
                left_action_items: [["android", lambda x: root.go_to_main()]]
                on_action_button: root.toggle_song_play()
                mode: 'center'
